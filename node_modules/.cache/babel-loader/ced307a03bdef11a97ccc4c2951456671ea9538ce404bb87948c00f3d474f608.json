{"ast":null,"code":"import React from'react';import'./styles/pagination.scss';import{jsx as _jsx}from\"react/jsx-runtime\";var allPages=function allPages(start,end,pageType,url){var res=[];for(var i=start,j=1;i<=end;i+=1,j+=1){var newUrl=url.replace(/\\d+/g,String(i)).replace(/\\/\\w+\\/\\?/,\"/\".concat(pageType,\"?\"));res.push({url:newUrl,num:i});}return res;};var Pagination=function Pagination(_ref){var _all;var info=_ref.info,getPage=_ref.getPage,active=_ref.active,setActive=_ref.setActive;var all;if(info){var start;var end;if(window.innerWidth<768){start=active-3>0&&info.pages>20?active-2:1;end=active+3<info.pages?active+3:info.pages;}else{start=active-10>0&&info.pages>20?active-10:1;end=active+10<info.pages?active+10:info.pages;}var _url;if(typeof info.next==='string'){_url=String(info.next);}else{_url=String(info.prev);}all=allPages(start,end,'character',_url);}var onClickHandler=function onClickHandler(url,num){getPage(url);setActive(num);};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:(_all=all)===null||_all===void 0?void 0:_all.map(function(el){return/*#__PURE__*/_jsx(\"div\",{className:active===el.num?'active':undefined,onClick:function onClick(){return onClickHandler(el.url,el.num);},children:el.num},el.num);})});};export default Pagination;","map":{"version":3,"names":["React","allPages","start","end","pageType","url","res","i","j","newUrl","replace","String","push","num","Pagination","info","getPage","active","setActive","all","window","innerWidth","pages","next","prev","onClickHandler","map","el","undefined"],"sources":["/Users/aleksander/Documents/portfolio/rick-and-morty/src/components/Pagination.tsx"],"sourcesContent":["import React, { FC, useState } from 'react';\nimport { IPaginationInfo } from '../types/types';\nimport './styles/pagination.scss';\n\ninterface Info {\n  info: IPaginationInfo | undefined;\n  getPage: (url: string) => void;\n  active: number;\n  setActive: (num: number) => void;\n}\n\nconst allPages = (\n  start: number,\n  end: number,\n  pageType: string,\n  url: string\n) => {\n  let res = [];\n  for (let i = start, j = 1; i <= end; i += 1, j += 1) {\n    const newUrl = url\n      .replace(/\\d+/g, String(i))\n      .replace(/\\/\\w+\\/\\?/, `/${pageType}?`);\n\n    res.push({\n      url: newUrl,\n      num: i,\n    });\n  }\n  return res;\n};\n\nconst Pagination: FC<Info> = ({ info, getPage, active, setActive }) => {\n  let all;\n  if (info) {\n    let start;\n    let end;\n\n    if (window.innerWidth < 768) {\n      start = active - 3 > 0 && info.pages > 20 ? active - 2 : 1;\n      end = active + 3 < info.pages ? active + 3 : info.pages;\n    } else {\n      start = active - 10 > 0 && info.pages > 20 ? active - 10 : 1;\n      end = active + 10 < info.pages ? active + 10 : info.pages;\n    }\n\n    let url;\n    if (typeof info.next === 'string') {\n      url = String(info.next);\n    } else {\n      url = String(info.prev);\n    }\n    all = allPages(start, end, 'character', url);\n  }\n\n  const onClickHandler = (url: string, num: number) => {\n    getPage(url);\n    setActive(num);\n  };\n\n  return (\n    <div className=\"container\">\n      {all?.map((el) => (\n        <div\n          className={active === el.num ? 'active' : undefined}\n          key={el.num}\n          onClick={() => onClickHandler(el.url, el.num)}\n        >\n          {el.num}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default Pagination;\n"],"mappings":"AAAA,MAAOA,MAAK,KAAwB,OAAO,CAE3C,MAAO,0BAA0B,CAAC,2CASlC,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,CACZC,KAAa,CACbC,GAAW,CACXC,QAAgB,CAChBC,GAAW,CACR,CACH,GAAIC,IAAG,CAAG,EAAE,CACZ,IAAK,GAAIC,EAAC,CAAGL,KAAK,CAAEM,CAAC,CAAG,CAAC,CAAED,CAAC,EAAIJ,GAAG,CAAEI,CAAC,EAAI,CAAC,CAAEC,CAAC,EAAI,CAAC,CAAE,CACnD,GAAMC,OAAM,CAAGJ,GAAG,CACfK,OAAO,CAAC,MAAM,CAAEC,MAAM,CAACJ,CAAC,CAAC,CAAC,CAC1BG,OAAO,CAAC,WAAW,YAAMN,QAAQ,MAAI,CAExCE,GAAG,CAACM,IAAI,CAAC,CACPP,GAAG,CAAEI,MAAM,CACXI,GAAG,CAAEN,CACP,CAAC,CAAC,CACJ,CACA,MAAOD,IAAG,CACZ,CAAC,CAED,GAAMQ,WAAoB,CAAG,QAAvBA,WAAoB,MAA6C,aAAvCC,KAAI,MAAJA,IAAI,CAAEC,OAAO,MAAPA,OAAO,CAAEC,MAAM,MAANA,MAAM,CAAEC,SAAS,MAATA,SAAS,CAC9D,GAAIC,IAAG,CACP,GAAIJ,IAAI,CAAE,CACR,GAAIb,MAAK,CACT,GAAIC,IAAG,CAEP,GAAIiB,MAAM,CAACC,UAAU,CAAG,GAAG,CAAE,CAC3BnB,KAAK,CAAGe,MAAM,CAAG,CAAC,CAAG,CAAC,EAAIF,IAAI,CAACO,KAAK,CAAG,EAAE,CAAGL,MAAM,CAAG,CAAC,CAAG,CAAC,CAC1Dd,GAAG,CAAGc,MAAM,CAAG,CAAC,CAAGF,IAAI,CAACO,KAAK,CAAGL,MAAM,CAAG,CAAC,CAAGF,IAAI,CAACO,KAAK,CACzD,CAAC,IAAM,CACLpB,KAAK,CAAGe,MAAM,CAAG,EAAE,CAAG,CAAC,EAAIF,IAAI,CAACO,KAAK,CAAG,EAAE,CAAGL,MAAM,CAAG,EAAE,CAAG,CAAC,CAC5Dd,GAAG,CAAGc,MAAM,CAAG,EAAE,CAAGF,IAAI,CAACO,KAAK,CAAGL,MAAM,CAAG,EAAE,CAAGF,IAAI,CAACO,KAAK,CAC3D,CAEA,GAAIjB,KAAG,CACP,GAAI,MAAOU,KAAI,CAACQ,IAAI,GAAK,QAAQ,CAAE,CACjClB,IAAG,CAAGM,MAAM,CAACI,IAAI,CAACQ,IAAI,CAAC,CACzB,CAAC,IAAM,CACLlB,IAAG,CAAGM,MAAM,CAACI,IAAI,CAACS,IAAI,CAAC,CACzB,CACAL,GAAG,CAAGlB,QAAQ,CAACC,KAAK,CAAEC,GAAG,CAAE,WAAW,CAAEE,IAAG,CAAC,CAC9C,CAEA,GAAMoB,eAAc,CAAG,QAAjBA,eAAc,CAAIpB,GAAW,CAAEQ,GAAW,CAAK,CACnDG,OAAO,CAACX,GAAG,CAAC,CACZa,SAAS,CAACL,GAAG,CAAC,CAChB,CAAC,CAED,mBACE,YAAK,SAAS,CAAC,WAAW,gBACvBM,GAAG,+BAAH,KAAKO,GAAG,CAAC,SAACC,EAAE,qBACX,YACE,SAAS,CAAEV,MAAM,GAAKU,EAAE,CAACd,GAAG,CAAG,QAAQ,CAAGe,SAAU,CAEpD,OAAO,CAAE,yBAAMH,eAAc,CAACE,EAAE,CAACtB,GAAG,CAAEsB,EAAE,CAACd,GAAG,CAAC,EAAC,UAE7Cc,EAAE,CAACd,GAAG,EAHFc,EAAE,CAACd,GAAG,CAIP,EACP,CAAC,EACE,CAEV,CAAC,CAED,cAAeC,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}